<!doctype html><html lang=zh-cn style=transform:none><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover"><title>韩西瓜的电台 | 我要喝啤酒啊</title><meta name=robots content="noindex,follow"><meta name=msapplication-TileImage content="https://hanyu.cool/home/static/img/favicon.ico"><link rel=dns-prefetch href=https://s.w.org/><link rel=stylesheet id=smartideo_css-css href=https://file.hanyu.cool/site/life/static/v1/css/smartideo.css type=text/css media=screen><link rel=stylesheet id=jimu-css-css href=https://file.hanyu.cool/site/life/static/v1/css/jimu.css type=text/css media=all><link rel=stylesheet id=jimu-gutenberg-css-css href=https://file.hanyu.cool/site/life/static/v1/css/gutenberg-custom.css type=text/css media=all><link rel=stylesheet id=iconfont-css href=https://file.hanyu.cool/site/life/static/v1/css/iconfont.css type=text/css media=all><link rel=stylesheet id=nicetheme-css href=https://file.hanyu.cool/site/life/static/v1/css/h.css type=text/css media=all><link rel=stylesheet id=style-css href=https://file.hanyu.cool/site/life/static/v1/css/style.css type=text/css media=all><link rel=stylesheet id=HighlightCss-css href=https://file.hanyu.cool/site/life/static/v1/css/a11y-dark.css type=text/css media=all><link rel=stylesheet id=LightgalleryCss-css href=https://file.hanyu.cool/site/life/static/v1/css/lightgallery.min.css type=text/css media=all><style type=text/css>.hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0;border:none}.hljs-ln-n:before{content:attr(data-line-number)}</style><style id=theia-sticky-sidebar-stylesheet-TSS>.theiaStickySidebar:after{content:"";display:table;clear:both}</style><script src=https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.min.js></script>
<script src=https://cdn.bootcdn.net/ajax/libs/jquery-migrate/1.4.1/jquery-migrate.min.js></script>
<link rel=icon href=https://hanyu.cool/home/static/img/favicon.ico sizes=32x32><link rel=icon href=https://hanyu.cool/home/static/img/favicon.ico sizes=192x192><link rel=apple-touch-icon href=https://hanyu.cool/home/static/img/favicon.ico><link href=https://hanyu.cool/home/static/img/favicon.ico rel=apple-touch-icon><link href=https://hanyu.cool/home/static/img/favicon.ico rel=apple-touch-icon sizes=76x76><link href=https://hanyu.cool/home/static/img/favicon.ico rel=apple-touch-icon sizes=120x120><link href=https://hanyu.cool/home/static/img/favicon.ico rel=apple-touch-icon sizes=152x152><link rel="shortcut icon" href=https://hanyu.cool/home/static/img/favicon.ico></head><body class="post-template-default single single-post postid-4575 single-format-image wp-embed-responsive nice-style-radius nice-style-shadow"><header class=header><nav class="navbar navbar-expand-md fixed-top"><div class=container><a href=/lifeblog rel=home class="navbar-brand m-0 order-1"><img class="logo loaded" src=http://file.hanyu.cool/site/life/static/v1/img/logo.png alt=韩西瓜的电台 data-src=http://file.hanyu.cool/site/life/static/v1/img/logo.png data-nclazyload=true data-was-processed=true style=border-radius:8px>
<img class=logo-night src=http://file.hanyu.cool/site/life/static/v1/img/logo.png alt=韩西瓜的电台 data-src=http://file.hanyu.cool/site/life/static/v1/img/logo.png data-nclazyload=true style=border-radius:8px></a><ul class="nav main-submenu align-items-center flex-row flex-shrink-0 order-2 order-md-3"><li class="nav-item d-none d-lg-inline-block"><a href=javascript: class="nice-tooltip-hide switch-dark-mode nav-link text-lg" data-toggle=nicetooltip data-placement=bottom title data-original-title=夜晚模式><i class="night iconfont icon-moon_circle"></i><i class="light text-warning iconfont icon-moon_circle_fill"></i></a></li><li class="nav-item d-lg-none"><a id=mobile-sidebar-trigger class="nav-link text-lg"><i class="d-block iconfont icon-menu"></i></a></li></ul><div class="collapse navbar-collapse show navbar-scroll order-3 order-md-2 mx-md-4"><ul class="navbar-nav main-menu d-none d-lg-flex mr-auto px-4"><li id=menu-item-4885 class="current-menu-item menu-item menu-item-type-custom menu-item-object-custom current-menu-ancestor current-menu-parent menu-item-4885"><a href=/lifeblog>首页</a></li><li id=menu-item-4884 class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-4884"><a><span class="sub-menu-icon text-xs iconfont icon-caret-down"></span>社交</a><ul class=sub-menu><li id=menu-item-4909 class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4909"><a href=https://hanyu.cool/wechat/ target=_blank>公众号™</a></li><li id=menu-item-4909 class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4909"><a href=https://weibo.com/sohanyu target=_blank>微博</a></li><li id=menu-item-4909 class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4909"><a href="javascript: alert('Sorry ~ Building')">播客</a></li></ul></li><li id=menu-item-4884 class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-4884"><a><span class="sub-menu-icon text-xs iconfont icon-caret-down"></span>关于</a><ul class=sub-menu><li id=menu-item-4919 class="menu-item menu-item-type-post_type menu-item-object-post menu-item-4919"><a href=https://hanyu.cool/about/>我</a></ul></li></ul></div></div></nav></header><div id=content><div class="post-image-poster bg-dark pt-5 pb-4 py-md-4 py-xl-5"><div class="bg-effect bg-image-color" style="background:linear-gradient(to top,#221f19 10%,#b78463 200%)"></div><div class="bg-effect bg-poster bg-image-cover" data-img style='background-image:url("")'></div><div class=container><div class="post-header text-center pt-4 pt-md-5"><h1 class="h3 mt-4 mt-md-5">我是生活二</h1><div class="post-meta d-flex align-items-center justify-content-center text-sm text-muted mt-3 mt-md-3"><div class="author-name author-popup"></div><time class="date mx-2 mx-md-2">Sunday, August 2, 2020</time>
<span class="d-none d-md-inline-block mx-md-2"><i>发布在</i>
<a href=https://hanyu.cool/lifeblog/categories/%E7%94%9F%E6%B4%BB/ rel="category tag" target=_blank>「生活」</a></span></div></div><div class="media media-21x9 rounded mt-3 mt-md-4"><div class="media-content poster-zoom" style=background-image:url() data-bg=" url()" data-nclazyload=true data-was-processed=true></div></div></div></div><main class="py-3 py-md-4 py-lg-5"><div class=container><div class="row justify-content-lg-center"><div class="col-12 col-lg-10"><div class=post><div class=post-content><div class=nc-light-gallery><blockquote><p>辛苦移步微信公众号点赞、在看、关注：
<a href=https://mp.weixin.qq.com/s/82S1AbBeJzYuGhl6FvjQcg>分布式锁 | 电商防超卖的N+1个坑！</a></p></blockquote><p>大家好，我是西瓜。<br>今天和同事讨论库存防超卖问题，发现虽然只是简单的库存扣减场景，却隐藏着很多坑，一不小心就容易翻车，让西瓜推土机来填平这些坑。</p><h2 id=单实例环境>单实例环境</h2><p>一般电商体系防止库存超卖，主要有以下几种方式：
<img src=http://file-ok.hanyu.cool/hysite/hysite-tech/article/image/2021-03-23/oversold.png alt=导图>
防止库存超卖，最先想到的可能就是「锁」，如果是一些单实例部署的库存服务，大部分情况下我们可以使用以下锁或并发工具类：
<img src=http://file-ok.hanyu.cool/hysite/hysite-tech/article/image/2021-03-23/java_lock.png alt=单机锁>
这三个任何一个都可以保证同一单位时间只有一个线程能够进行库存扣减，废话不多说，上码！</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 库存扣减（伪代码 ReentrantLock )
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param stockRequestDTO
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return Boolean
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> Boolean <span style=color:#a6e22e>stockHandle</span><span style=color:#f92672>(</span>StockRequestDTO stockRequestDTO<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 日志打印...校验...前置处理等...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>int</span> stock <span style=color:#f92672>=</span> stockMapper<span style=color:#f92672>.</span><span style=color:#a6e22e>getStock</span><span style=color:#f92672>(</span>stockRequestDTO<span style=color:#f92672>.</span><span style=color:#a6e22e>getGoodsId</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>        reentrantLock<span style=color:#f92672>.</span><span style=color:#a6e22e>lock</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> result <span style=color:#f92672>=</span> stock <span style=color:#f92672>&gt;</span> 0 <span style=color:#f92672>?</span> 
</span></span><span style=display:flex><span>                    stockMapper<span style=color:#f92672>.</span><span style=color:#a6e22e>updateStock</span><span style=color:#f92672>(</span>stockRequestDTO<span style=color:#f92672>.</span><span style=color:#a6e22e>getGoodsId</span><span style=color:#f92672>(),</span> <span style=color:#f92672>--</span>stock<span style=color:#f92672>)</span> <span style=color:#f92672>:</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> result <span style=color:#f92672>&gt;</span> 0 <span style=color:#f92672>?</span> <span style=color:#66d9ef>true</span> <span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span> <span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>SQLException e<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 异常日志打印及处理...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span> <span style=color:#66d9ef>finally</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            reentrantLock<span style=color:#f92672>.</span><span style=color:#a6e22e>unlock</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>   <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 库存扣减（伪代码 synchronized )
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param stockRequestDTO
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return Boolean
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>synchronized</span> Boolean <span style=color:#a6e22e>stockHandle</span><span style=color:#f92672>(</span>StockRequestDTO stockRequestDTO<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 执行业务逻辑...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 库存扣减（伪代码 Semaphore )
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param stockRequestDTO
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return Boolean
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> Boolean <span style=color:#a6e22e>stockHandle</span><span style=color:#f92672>(</span>StockRequestDTO stockRequestDTO<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>try</span><span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>          semaphore<span style=color:#f92672>.</span><span style=color:#a6e22e>acquire</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>          <span style=color:#75715e>// 执行业务逻辑...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#f92672>}</span> <span style=color:#66d9ef>finally</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>          semaphore<span style=color:#f92672>.</span><span style=color:#a6e22e>release</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span></code></pre></div><p>如果你的项目是单实例部署，那么使用以上锁或并发工具中的一种，都可以有效的防止超卖出现。</p><h2 id=分布式环境>分布式环境</h2><p>但现在的互联网公司，基本都是负载均衡的方式，访问集群中多个实例的，所以基于JVM级别的锁无法发挥作用，需要引入第三方组件来解决，分布式锁登场。</p><p>如果想实现分布式环境下的锁机制，最简单的莫过于利用MySQL的锁机制:
<img src=http://file-ok.hanyu.cool/hysite/hysite-tech/article/image/2021-03-23/db_lock.png alt=DBLOCK></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#f92672>***</span> <span style=color:#960050;background-color:#1e0010>使用悲观锁实现</span> <span style=color:#f92672>***</span> 
</span></span></code></pre></div></div></div><div id=post-action class="post-action mt-3 mt-lg-5"><div class=hr-short></div><div class="post-declare mt-3 mt-md-4"><p>本文是作者
<a href=# title rel=author>「」</a>的胡思乱想，版权归全世界所有，你随便抄</p></div><div class="d-flex flex-fill align-items-center"><div class=flex-md-fill></div><div id=scrollshare class=post-social><a href="javascript: alert('Sorry ~ 分享功能在开发中哦')" class="btn btn-light btn-icon btn-weibo btn-rounded btn-md m-1"><span><i class="iconfont icon-weibo"></i></span></a>
<a href="javascript: alert('Sorry ~ 分享功能在开发中哦')" class1="btn btn-light btn-icon btn-weixin single-popup btn-rounded btn-md m-1" class="btn btn-light btn-icon btn-weixin btn-rounded btn-md m-1" data-img data-title="微信扫一扫 分享朋友圈" data-desc=在微信内长按二维码><span><i class="iconfont icon-weixin1"></i></span></a>
<a href="javascript: alert('Sorry ~ 分享功能在开发中哦')" class="btn btn-light btn-icon btn-qq btn-rounded btn-md m-1"><span><i class="iconfont icon-qq"></i></span></a></div></div></div><div class="post-next-prev list-grouped row-sm my-n1 pt-5"><div class="col-12 col-md-6 py-1"><div class="list-item list-overlay block custom-hover overlay-hover"><div class="media media-3x1"><div class=media-content style=background-image:url(http://pic1.win4000.com/wallpaper/a/58f467b96eb45.jpg) data-nclazyload=true><div class=overlay-1></div></div></div><a href=/lifeblog/posts/section-list/life/third/ class="list-content p-3" title=我是分类第三篇><div class=list-body><div class=list-title><div class="h-2x h6 text-white">我是分类第三篇</div></div></div><div class=list-footer><div class="d-flex align-items-center flex-fill"><div class="text-xs text-muted">上一篇</div><div class=flex-fill></div><i class="text-md iconfont icon-xianghou"></i></div></div></a></div></div><div class="col-12 col-md-6 py-1"><div class="list-item list-overlay block custom-hover overlay-hover"><div class="media media-3x1"><div class=media-content style=background-image:url(https://okhanyu.oss-cn-beijing.aliyuncs.com/hysite/hysite-fun/artice/image/test/1.jpg) data-nclazyload=true><div class=overlay-1></div></div></div><a href=/lifeblog/posts/section-top-left/top-banner-left/ class="list-content p-3" title=我是大banner><div class=list-body><div class=list-title><div class="h-2x h6 text-white">我是大banner</div></div></div><div class=list-footer><div class="d-flex align-items-center flex-fill"><div class="text-xs text-muted">下一篇</div><div class=flex-fill></div><i class="text-md iconfont icon-xianghou"></i></div></div></a></div></div></div></div></div></div></div></main><div class="list-related list-scroll bg-light py-4 py-lg-5"><div class=container><div class="h5 mb-3 mb-md-4"><i class="text-xl text-primary iconfont icon-gengxin mr-1"></i>
<span class="d-inline-block align-middle">相关文章</span></div><div class=list-scroll-x><div class="row row-md list-grouped list-bordered-padding"><div class="col-6 col-md-3 d-flex"><div class="list-item overlay-hover"><div class="media media-16x9"><a href=https://hanyu.cool/lifeblog/posts/section-list/life/fourth/ class=media-content style=background-image:url() data-nclazyload=true><div class=overlay></div></a></div><div class=list-content><div class=list-body><a href=https://hanyu.cool/lifeblog/posts/section-list/life/fourth/ title=我是生活二 class="list-title text-md h-2x">我是生活二</a></div></div></div></div></div></div></div></div></div><footer class="footer bg-dark"><div class=container><div class="row py-3 py-lg-4"><div class="col-lg-6 pr-lg-5 py-3"><div class="footer-widget pr-lg-5"><div class="footer-widget-header mb-2 mb-md-3"><span>关于</span></div><div class=footer-widget-content><p>我是韩西瓜，全世界走走逛逛拍拍玩玩。</p></div><div class="footer-widget-social mx-n2 mt-3"><a href=https://weibo.com/sohanyu target=_blank class="weibo btn btn btn-secondary btn-icon btn-rounded m-1"><span><i class="iconfont icon-weibo1"></i></span></a>
<a href=https://github.com/okhanyu target=_blank class="btn btn-secondary btn-icon btn-rounded m-1"><span><i class="iconfont icon-github"></i></span></a></div></div></div><div class="col-lg-3 py-3"><div class=footer-widget><div class="footer-widget-header mb-2 mb-md-3"><span>社交媒体</span></div><div class=footer-widget-content><div class=footer-widget-links><a href=https://weibo.com/sohanyu target=_blank>微博</a></div></div></div></div><div class="col-lg-3 py-3"><div class=footer-widget><div class="footer-widget-header mb-2 mb-md-3"><span>友情链接</span></div><div class=footer-widget-content><div class=footer-widget-links><a href=https://hanyu.cool>韩西瓜的电台</a></div></div></div></div></div></div><div class="footer-copyright text-xs border-top border-secondary py-3 py-md-4"><div class=container>Copyright © 2020-2020
<a href=https://hanyu.cool/ title=韩西瓜 rel=home>韩西瓜</a></div></div></footer><html><head></head><body><div class=mobile-overlay></div><aside class="mobile-sidebar bg-light"><div class=mobile-sidebar-inner><div class=mobile-sidebar-action><a href=javascript:; class="link-action switch-dark-mode text-xl text-muted mr-2"><i class="night iconfont icon-moon_circle"></i><i class="light text-warning iconfont icon-moon_circle_fill"></i></a><button type=button class="link-action text-xl text-muted" id=mobile-sidebar-close>
<i class="d-block iconfont icon-close-filled"></i></button></div><div class=mobile-sidebar-tab-menu><ul id=mobile-tab-menu-id class=mobile-tab-menu><li id=menu-item-5123 class="menu-item menu-item-type-custom menu-item-object-custom current-menu-ancestor current-menu-parent menu-item-has-children menu-item-5123"><a>推荐</a><ul class=sub-menu><li id=menu-item-5122 class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home menu-item-5122"><a href=/ aria-current=page>首页</a></li></ul></li><li id=menu-item-4897 class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-4897"><a>社交</a><ul class=sub-menu><li id=menu-item-4924 class="menu-item menu-item-type-post_type menu-item-object-post menu-item-4925"><a href=https://hanyu.cool/wechat/>公众号</a></li><li id=menu-item-5124 class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5124"><a href=https://weibo.com/sohanyu>微博</a></li><li id=menu-item-5124 class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5124"><a href="javascript: alert('Sorry ~ 正在筹建中啦')">播客</a></li></ul></li><li id=menu-item-4897 class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-4897"><a>ABOUT</a><ul class=sub-menu><li id=menu-item-4925 class="menu-item menu-item-type-post_type menu-item-object-post menu-item-4925"><a href=https://hanyu.cool/about/>关于</a></li></ul></li></ul></div></div></aside><div class=nice-fixed-totop><a id=back-to-top href=javascript: class="btn btn-secondary btn-icon btn-lg current"><span class=icon-stack><i class="text-sm iconfont icon-caret-up"></i><small class=back-to-top-text>Top</small></span></a></div></body></html><script type=text/javascript src=https://file.hanyu.cool/site/life/static/v1/js/smartideo.js></script><script type=text/javascript src=https://file.hanyu.cool/site/life/static/v1/js/lazyload.min.js></script><script src=https://file.hanyu.cool/site/life/static/v1/js/popper.min.js></script><script src=https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js></script><script type=text/javascript src=https://file.hanyu.cool/site/life/static/v1/js/plugins.min.js></script><script src=https://cdn.bootcdn.net/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js></script><script type=text/javascript src=https://file.hanyu.cool/site/life/static/v1/js/ResizeSensor.min.js></script><script type=text/javascript src=https://file.hanyu.cool/site/life/static/v1/js/theia-sticky-sidebar.min.js></script><script type=text/javascript src=https://file.hanyu.cool/site/life/static/v1/js/h.js></script><script src=https://file.hanyu.cool/site/life/static/v1/js/highlight.pack.js></script>
<script src=https://cdn.bootcdn.net/ajax/libs/picturefill/2.3.1/picturefill.min.js></script>
<script src=https://cdn.bootcdn.net/ajax/libs/jquery-mousewheel/3.1.8/jquery.mousewheel.min.js></script>
<script src=https://file.hanyu.cool/site/life/static/v1/js/lightgallery-all.min.js></script></body></html>